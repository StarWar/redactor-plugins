void 0===String.prototype.reverse&&(String.prototype.reverse=function(){return this.split("").reverse().join("")}),function(a){a.Redactor.prototype.norphan=function(){return{init:function(){var b=this;void 0===this.opts.callbacks.syncBefore&&a.extend(this.opts.callbacks,{syncBefore:function(c){var d=a(document.createElement("div"));return d.html(c),d.find("div,p,h1,h2,h3,h4,h5,h6,blockquote,dd,dt,figcaption").each(function(){a(this).replaceWith(b.norphan.adopt(a(this).get(0).outerHTML))}),b.code.cleaned(d.html())}})},adopt:function(a){for(var b="",c=String(a).reverse().split(""),d=!1,e=!1,f=0;f<c.length;f++)">"==c[f]?_ignore=!0:"<"==c[f]?(_ignore=!1,e=!0):c[f].trim().length>0&&(e=!1),_ignore||d||" "!=c[f]||e?b+=c[f]:(b+=String("&nbsp;").reverse(),d=!0);return b.reverse()}}}}(jQuery);