if(!RedactorPlugins)var RedactorPlugins={};"undefined"==typeof ace&&document.write('<script src="'+this.opts.assetsUrl+'lib/ace/ace.js"></script>'),function(){RedactorPlugins.syntax=function(){return{init:function(){var a=this;this.$textarea.after('<div class="redactor__modx-code-pretty-content" rows="4" style="display:none"></div>');var b=this.$textarea.parent().children("div.redactor__modx-code-pretty-content").attr("id","redactor__modx-code-pretty-content"+this.uuid),c=ace.edit("redactor__modx-code-pretty-content"+this.uuid);c.setTheme(this.opts.aceTheme||"ace/theme/monokai"),c.getSession().setMode(this.opts.aceMode||"ace/mode/html"),c.setValue(this.$textarea.val());var d=this.$textarea;c.getSession().on("change",function(){d.val(a.tabifier.get(c.getSession().getValue()))}),this.$element.on("sourceCallback",function(){if(a.opts.visual)b.hide();else{var d=a.$textarea.height();a.$textarea.hide(),c.setValue(a.tabifier.get(a.$textarea.val())),b.show().height(d),c.resize()}})}}}}(jQuery);