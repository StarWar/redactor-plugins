if(!RedactorPlugins)var RedactorPlugins={};"undefined"==typeof ace&&document.write('<script src="'+this.opts.assetsUrl+'lib/ace/ace.js"></script>'),function(a){RedactorPlugins.syntax=function(){return{init:function(){var b=this;this.$textarea.after('<div class="redactor__modx-code-pretty-content" rows="4" style="display:none"></div>');var c=this.$textarea.parent().children("div.redactor__modx-code-pretty-content").attr("id","redactor__modx-code-pretty-content"+this.uuid),d=ace.edit("redactor__modx-code-pretty-content"+this.uuid);d.setTheme(this.opts.aceTheme||"ace/theme/monokai"),d.getSession().setMode(this.opts.aceMode||"ace/mode/html"),d.setValue(this.$textarea.val());var e=this.$textarea;d.getSession().on("change",function(){e.val(b.tabifier.get(d.getSession().getValue()))}),this.$element.on("sourceCallback",function(){var a=b.$textarea.height();b.$textarea.hide(),d.setValue(b.tabifier.get(b.$textarea.val())),c.show().height(a),d.resize()}),this.$element.on("visualCallback",function(){a(document.getElementById("redactor__modx-code-pretty-content"+b.uuid)).hide()})}}}}(jQuery);